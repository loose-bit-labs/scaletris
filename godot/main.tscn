[gd_scene load_steps=36 format=3 uid="uid://c14i1wtlh6cqy"]

[ext_resource type="Script" path="res://main.gd" id="1_f834v"]
[ext_resource type="Texture2D" uid="uid://cxj76fnp1evfn" path="res://images/bg/village.png" id="2_0no1k"]
[ext_resource type="Script" path="res://mainAudio.gd" id="3_d7c1v"]
[ext_resource type="Script" path="res://fxAudio.gd" id="3_mt5kj"]
[ext_resource type="Texture2D" uid="uid://consbeyof5ukg" path="res://images/bg/treasure-room.png" id="3_n4n7o"]
[ext_resource type="Script" path="res://paused.gd" id="4_t7pre"]
[ext_resource type="Texture2D" uid="uid://bkt0ed631cr3n" path="res://images/bg/work_bench.png" id="4_whk3h"]
[ext_resource type="Script" path="res://gameOver.gd" id="5_510jg"]

[sub_resource type="BoxShape3D" id="BoxShape3D_m4gtk"]
size = Vector3(12.623, 1.28369, 2.85168)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_do3kx"]
albedo_texture = ExtResource("2_0no1k")
uv1_scale = Vector3(1, -1, -1)

[sub_resource type="BoxShape3D" id="BoxShape3D_ax87v"]
size = Vector3(12.8672, 0.621308, 19.341)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6fqkn"]
albedo_color = Color(0.882353, 0.843137, 0.847059, 1)
albedo_texture = ExtResource("2_0no1k")

[sub_resource type="BoxShape3D" id="BoxShape3D_tn0uu"]
size = Vector3(1.48787, 0.277463, 21.2837)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iyodj"]
albedo_texture = ExtResource("2_0no1k")

[sub_resource type="BoxShape3D" id="BoxShape3D_j4fwc"]
size = Vector3(0.681809, 0.265513, 6.36558)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ntdjv"]
albedo_texture = ExtResource("3_n4n7o")

[sub_resource type="BoxShape3D" id="BoxShape3D_8qp2v"]
size = Vector3(1, 23.8441, 0.247384)

[sub_resource type="BoxShape3D" id="BoxShape3D_unf7i"]
size = Vector3(13.4204, 0.69025, 19.7636)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_p7kat"]
albedo_texture = ExtResource("4_whk3h")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kgfai"]
albedo_color = Color(0.360784, 0.356863, 0.352941, 1)
albedo_texture = ExtResource("4_whk3h")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_g0yv4"]
albedo_texture = ExtResource("2_0no1k")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_16atg"]
albedo_texture = ExtResource("3_n4n7o")

[sub_resource type="BoxShape3D" id="BoxShape3D_mot7i"]
size = Vector3(1.82003, 4.49202, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_7bhq1"]
size = Vector3(1, 6.88859, 0.303008)

[sub_resource type="BoxShape3D" id="BoxShape3D_vxkqw"]
size = Vector3(1, 24.2295, 0.236255)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_1g7xh"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_81pqr"]
albedo_color = Color(0.705882, 0.619608, 0.152941, 1)
metallic = 0.57
roughness = 0.33
normal_scale = 2.0
normal_texture = SubResource("NoiseTexture2D_1g7xh")

[sub_resource type="BoxShape3D" id="BoxShape3D_alflm"]
size = Vector3(0.254354, 1.55366, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_kfsqm"]
size = Vector3(14.7777, 5.32571, 1)

[sub_resource type="Environment" id="Environment_l5wru"]
background_mode = 2
glow_intensity = 0.95
glow_hdr_threshold = 0.98

[sub_resource type="Animation" id="Animation_6jj5w"]
resource_name = "remove_block"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pcy84"]
_data = {
"remove_block": SubResource("Animation_6jj5w")
}

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sn4my"]
transparency = 1
albedo_color = Color(0, 0, 0, 0.792157)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qbs3o"]
albedo_color = Color(0.807843, 0, 0.207843, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7b402"]

[node name="Arena" type="Node3D"]
script = ExtResource("1_f834v")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.138837, 3.06059, 4.26016)

[node name="Board" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.01915, 0, 0)

[node name="floor" type="StaticBody3D" parent="Board"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.675726, -0.652481, 0)
shape = SubResource("BoxShape3D_m4gtk")

[node name="Box" type="CSGBox3D" parent="Board/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.37795, 0.029385, 0)
size = Vector3(11.849, 0.009, 0.572545)
material = SubResource("StandardMaterial3D_do3kx")

[node name="backwall" type="StaticBody3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.24821)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/backwall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 1.29224, 8.97455, -1.84793)
shape = SubResource("BoxShape3D_ax87v")

[node name="Box" type="CSGBox3D" parent="Board/backwall"]
transform = Transform3D(-1, 0, 0, 0, -1, 0, 0, 0, -1, -0.114996, 3.26866, -1.5876)
size = Vector3(8.90139, 6.5431, 0.045876)
material = SubResource("StandardMaterial3D_6fqkn")

[node name="leftwall" type="StaticBody3D" parent="Board"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.77961, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/leftwall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -6.59211e-08, 10.6826, -0.000273228)
shape = SubResource("BoxShape3D_tn0uu")

[node name="Box" type="CSGBox3D" parent="Board/leftwall"]
transform = Transform3D(0.00631809, 7.59749e-08, -0.99998, -0.99998, -7.54964e-08, -0.00631809, 7.59749e-08, -1, -7.54964e-08, 0, 3.242, 0)
size = Vector3(6.49269, 0.459531, 0.623739)
material = SubResource("StandardMaterial3D_iyodj")

[node name="rightwall" type="StaticBody3D" parent="Board"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 4.466, 6.92184, 0)

[node name="bottomBox" type="CollisionShape3D" parent="Board/rightwall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -3.76981, 0)
shape = SubResource("BoxShape3D_j4fwc")

[node name="Box" type="CSGBox3D" parent="Board/rightwall/bottomBox"]
transform = Transform3D(1, 0, 0, 0, 1, -8.35188e-23, 0, -8.35188e-23, 1, 0, 0, 0)
size = Vector3(0.537812, 0.181988, 6.38228)
material = SubResource("StandardMaterial3D_ntdjv")

[node name="topBox" type="CollisionShape3D" parent="Board/rightwall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12.4558, 0)
shape = SubResource("BoxShape3D_8qp2v")

[node name="Box" type="CSGBox3D" parent="Board/rightwall/topBox"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -8.71256, 0)
size = Vector3(0.537812, 0.181988, 6.38228)
material = SubResource("StandardMaterial3D_ntdjv")

[node name="frontwall" type="StaticBody3D" parent="Board"]
transform = Transform3D(-0.999984, 0, -0.00563729, 0, 1, 0, 0.00563729, 0, -0.999984, 0, 0, 0.115766)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/frontwall"]
transform = Transform3D(1, 9.31323e-10, 0, 0, -4.37114e-08, -1, -9.31323e-10, 1, -4.37114e-08, -1.47603, 9.17491, -0.52906)
shape = SubResource("BoxShape3D_unf7i")

[node name="Info" type="CSGBox3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.52887, 5.60916, 0)
material_override = SubResource("StandardMaterial3D_p7kat")
size = Vector3(1.93605, 1.85865, 0.531075)
material = SubResource("StandardMaterial3D_kgfai")

[node name="Level" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.441998, 0.381316, 0.284321)
text = "LEVEL"

[node name="Value" type="Label3D" parent="Board/Info/Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.582415, 0, 0)
text = "0
"

[node name="Kills" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.449732, 0.146575, 0.298942)
text = "MATCHED
"

[node name="Value" type="Label3D" parent="Board/Info/Kills"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.597885, 0, 0)
text = "0
"

[node name="Required" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.358553, 0.146575, 0.298942)
text = "OF"

[node name="Value" type="Label3D" parent="Board/Info/Required"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.286629, 0, 0)
text = "0
"

[node name="Health" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.445866, -0.0666857, 0.298942)
text = "AVAILABLE"

[node name="Value" type="Label3D" parent="Board/Info/Health"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.58933, 0, 0)
text = "0
"

[node name="MaxHealth" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.358553, -0.0666857, 0.298942)
text = "OF"

[node name="Value" type="Label3D" parent="Board/Info/MaxHealth"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.286629, 0, 0)
text = "0
"

[node name="Score" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.312405, -0.630525, 0.293211)
text = "SCORE
"

[node name="Value" type="Label3D" parent="Board/Info/Score"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.460117, 0, 0)
text = "0
"

[node name="Bonus" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5509, -0.258722, 0.310448)
text = "Bonus        OF    3"
horizontal_alignment = 0

[node name="Value" type="Label3D" parent="Board/Info/Bonus"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.697184, -0.00285196, 0)
text = "0
"

[node name="Lives" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.451092, -0.450639, 0.310448)
text = "Lives"
horizontal_alignment = 0

[node name="Value" type="Label3D" parent="Board/Info/Lives"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.598131, 0, 0)
text = "0
"

[node name="walls" type="Node3D" parent="Board/Info"]

[node name="hideBonus" type="CSGBox3D" parent="Board/Info/walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.16958, 0)
visible = false
size = Vector3(1.92269, 4.96627, 0.545165)
material = SubResource("StandardMaterial3D_g0yv4")

[node name="backBonus" type="CSGBox3D" parent="Board/Info/walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0475044, -3.18285, -0.23666)
size = Vector3(2.19163, 4.89986, 0.002)
material = SubResource("StandardMaterial3D_16atg")

[node name="bonus_area" type="Area3D" parent="Board/Info/walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.139648, -3.06178, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/Info/walls/bonus_area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.157982, -0.301603, 0)
shape = SubResource("BoxShape3D_mot7i")

[node name="BonusTimer" type="Label3D" parent="Board/Info"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.82922, 0.313547)
text = "0:00"

[node name="farrightwall" type="StaticBody3D" parent="Board"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 6.65673, 3.1561, 0)

[node name="Box" type="CSGBox3D" parent="Board/farrightwall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.004, 0, 0)
size = Vector3(0.537812, 6.34213, 0.332784)
material = SubResource("StandardMaterial3D_ntdjv")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/farrightwall"]
shape = SubResource("BoxShape3D_7bhq1")

[node name="bonuswall" type="StaticBody3D" parent="Board"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 8.8, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/bonuswall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12.0302, 0)
shape = SubResource("BoxShape3D_vxkqw")

[node name="CSGBox3D" type="CSGBox3D" parent="Board/bonuswall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.03973, 0)
size = Vector3(1, 12.2876, 0.286747)
material = SubResource("StandardMaterial3D_81pqr")

[node name="StaticBosdy3D" type="StaticBody3D" parent="Board"]

[node name="extraCollision" type="CollisionShape3D" parent="Board/StaticBosdy3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.46597, 6.93397, 0)
shape = SubResource("BoxShape3D_alflm")

[node name="roof" type="StaticBody3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.35481, 20.052, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/roof"]
shape = SubResource("BoxShape3D_kfsqm")

[node name="mainAudio" type="AudioStreamPlayer3D" parent="."]
volume_db = -8.8
script = ExtResource("3_d7c1v")

[node name="fxAudio" type="AudioStreamPlayer3D" parent="."]
volume_db = -22.22
script = ExtResource("3_mt5kj")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_l5wru")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.783794, 4.18024, 4.2072)
light_intensity_lumens = 222.0
omni_range = 8.56609

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_pcy84")
}

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6089, 3.28297, 0)
light_intensity_lumens = 100.0
omni_range = 2.50582

[node name="Informatica" type="Node3D" parent="."]

[node name="Paused" type="CSGBox3D" parent="Informatica"]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.111083, 3.14299, 1.26077)
visible = false
size = Vector3(11.6815, 4.61145, 0.19972)
material = SubResource("StandardMaterial3D_sn4my")
script = ExtResource("4_t7pre")

[node name="Title" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.74203, 0.154547)
text = "PAUSED"
font_size = 128

[node name="LabelMuted" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.19687, -2.13439, 0.10837)
text = "(m)uted"

[node name="MutedBox" type="CSGBox3D" parent="Informatica/Paused/LabelMuted"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.528554, -0.000465989, -0.000606537)
size = Vector3(0.18, 0.18, 0.0126728)
material = SubResource("StandardMaterial3D_qbs3o")

[node name="UnmutedBox" type="CSGBox3D" parent="Informatica/Paused/LabelMuted"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.528554, 0.00174439, -0.000606537)
size = Vector3(0.18, 0.18, 0.0126728)
material = SubResource("StandardMaterial3D_7b402")

[node name="QuestExplanation" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.32748, -0.18811, 0.108364)
visible = false
text = "Goal:  Scale matching blocks to collect them and advance levels

Legend:
- MATCHED shows how many pairs have been collected. 
- AVAILABLE shows how many kinds of blocks can still fall.
                        Don't let it get to zero!
Controls:
- Scale Blocks:  mouse wheel or up/down arrows
- Move Blocks: click and drag or left/right arrows

Block Types:
- Red: hostiles, match pairs to defeat them
- Green: friendlies, matching also removes a hostile!
- Yellow: bonus blocks need to be collected in the vault to
earn a bonus level. Non-bonus blocks count against your bonus!

Not all games or levels feature all the different kinds of blocks."
font_size = 28
horizontal_alignment = 0

[node name="BonusExplanation" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0369482, 0.108364)
visible = false
text = "Goal: click a block and scale it to match 
its mate on the other side of the divider

Once it's the same size, click its match 
to earn bonus points before the timer
get down to zero.

Good Luck!"

[node name="MoreInfo" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.615436, -2.13127, 0.10578)
text = "CTRL-Q to quit          CTRL-HOME for main screen"

[node name="ClassicExplanation" type="Label3D" parent="Informatica/Paused"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.32748, -0.18811, 0.108364)
text = "Goal:  Scale matching blocks to collect them and advance levels

Legend:
- MATCHED shows how many pairs have been collected. 
- AVAILABLE shows how many kinds of blocks can still fall.
                        Don't let it get to zero!
Controls:
- Scale Blocks:  mouse wheel or up/down arrows
- Move Blocks: click and drag or left/right arrows

Each level has a themed block that matches the background 
image. These blocks cannot be scaled.

They need to be deposited into the bonus are on the right 
side of the board to earn a special bonus level!
"
font_size = 28
horizontal_alignment = 0

[node name="Win" type="CSGBox3D" parent="Informatica"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8047, 3.14299, 1.26077)
visible = false
size = Vector3(6.72748, 4.61145, 0.19972)
material = SubResource("StandardMaterial3D_sn4my")
script = ExtResource("5_510jg")

[node name="Title" type="Label3D" parent="Informatica/Win"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.42208, 0.154547)
text = "YOU WON!"
font_size = 128

[node name="Explanation" type="Label3D" parent="Informatica/Win"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.118121, -0.506396, 0)
text = "WOW! That was amazing!

You were doing so well and then it's like you just leveled up!

Like way, way, up! Like totally all the way up!

Congrats!

Hit the any key or click the mouse to try again."

[node name="Lose" type="CSGBox3D" parent="Informatica"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.861677, 3.14299, 1.26077)
visible = false
size = Vector3(6.79585, 4.61145, 0.19972)
material = SubResource("StandardMaterial3D_sn4my")
script = ExtResource("5_510jg")

[node name="Title" type="Label3D" parent="Informatica/Lose"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47118, 0.154547)
text = "YOU LOST!"
font_size = 128

[node name="Explanation" type="Label3D" parent="Informatica/Lose"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.286929, -0.494122, 0)
text = "We were all cheering for, because, frankly, you were doing 
an amazing job!

Then suddenly you were not doing so well...

And I was all like: game over, dude!

Hit the any key or click the mouse to try again."

[connection signal="body_entered" from="Board/Info/walls/bonus_area" to="." method="_on_bonus_area_body_entered"]
[connection signal="body_shape_exited" from="Board/Info/walls/bonus_area" to="." method="_on_bonus_area_body_shape_exited"]
[connection signal="finished" from="mainAudio" to="mainAudio" method="_on_finished"]
[connection signal="visibility_changed" from="Informatica/Win" to="Informatica/Win" method="_on_visibility_changed"]
[connection signal="visibility_changed" from="Informatica/Lose" to="Informatica/Lose" method="_on_visibility_changed"]
